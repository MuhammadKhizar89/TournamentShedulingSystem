<!--<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="output.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Tournaments Per Month (2024)</title>
    <script src="https://www.gstatic.com/charts/loader.js"></script>
        <script>
          /*  google.charts.load('current', {'packages':['corechart']});
            google.charts.setOnLoadCallback(drawChart);

            function drawChart() {
            fetch('/getTournamentsPerMonthData')
                .then(response => response.json())
                .then(data => {
                    var chartData = [['Month', 'Count']];
                    data.forEach(entry => {
                        chartData.push([entry.month, entry.count]);
                    });

                    var chartData = google.visualization.arrayToDataTable(chartData);

                    var options = {
                        title: 'Tournaments Per Month (2024)',
                        hAxis: {title: 'Month'},
                        vAxis: {title: 'Count'}
                    };

                    var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
                    chart.draw(chartData, options);
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        } */

    /* google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
    // Fetch data from the server
    fetch('/getTournamentsPerMonthData')
    .then(response => response.json())
    .then(data => {
    // Parse data and create array for Google Charts
    var chartData = [['Month', 'Count']];
    data.forEach(entry => {
    chartData.push([entry.month, entry.count]);
    });

    // Create data table
    var chartData = google.visualization.arrayToDataTable(chartData);

    // Set options for the chart
    var options = {
    title: 'Tournaments Per Month (2024)',
    hAxis: {title: 'Month'},
    vAxis: {title: 'Count'}
    };

    // Create and draw the chart
                    var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
                    chart.draw(chartData, options);
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        }*/


        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Month', 'Count'],
                /*[[${tournamentsPerMonth.entrySet()}]]*/
                /*[[${tournamentsPerMonth}]]*/
            )];


            var options = {
                title: 'Tournaments Per Month (2024)',
                hAxis: {title: 'Month'},
                vAxis: {title: 'Count'}
            };

            var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
            chart.draw(data, options);
        }
    </script>
</head>
<body class="bg-color-primary text-color-white tracking-wider">
<header>
    <nav class="container flex justify-between items-center relative">
        <div class="w-[44rem] py-5 text-color-secondary font-bold text-2xl">
            <a href="/">
                <div class="text-color-white">Tournament Scheduling</div>
                System
            </a>
        </div>
        <div>
            <ul class="hidden lg:flex items-center space-x-2">
                <li><a href="#" class="text-color-secondary ease-in duration-200 mr-2">Tournaments Per Month Graph</a></li>
            </ul>
        </div>
    </nav>
</header>


<div id="chart_div" style="width: 100%; height: 500px;"></div>
<p style="text-align: center;">Data for the year 2024</p>

<script src="https://www.gstatic.com/charts/loader.js"></script>
<script>
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = google.visualization.arrayToDataTable([
            ['Month', 'Count'],
            /*[[${tournamentsPerMonth.entrySet()}]]*/
            /*[[${tournamentsPerMonth}]]*/
        ]);

        var options = {
            title: 'Tournaments Per Month (2024)',
            hAxis: {title: 'Month'},
            vAxis: {title: 'Count'}
        };

        var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
        chart.draw(data, options);
    }
</script>
</body>
</html>-->

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="output.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Tournaments Per Month (2024)</title>
    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <script>
        function drawChart(data) {
            var chartData = google.visualization.arrayToDataTable(data);
            var options = {
                title: 'Tournaments Per Month (2024)',
                hAxis: {title: 'Month'},
                vAxis: {title: 'Count'}
            };
            var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
            chart.draw(chartData, options);
        }

        window.onload = function() {
            fetch('/tournamentsPerMonth')
                .then(response => response.json())
                .then(data => {
                    var chartData = [];
                    // Loop through all months (January - December)
                    for (let i = 1; i <= 12; i++) {
                        const monthName = new Date(0, i - 1).toLocaleDateString('en-US', { month: "long" });
                        let count = data[monthName] || 0;  // Use data[monthName] if it exists, otherwise default to 0
                        chartData.push([monthName, count]);
                    }
                    drawChart(chartData);
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        };
    </script>
</head>
<body class="bg-color-primary text-color-white tracking-wider">
<header>
    <nav class="container flex justify-between items-center relative">
        <div class="w-[44rem] py-5 text-color-secondary font-bold text-2xl">
            <a href="/">
                <div class="text-color-white">Tournament Scheduling</div>
                System
            </a>
        </div>
        <div>
            <ul class="hidden lg:flex items-center space-x-2">
                <li><a href="#" class="text-color-secondary ease-in duration-200 mr-2">Tournaments Per Month Graph</a></li>
            </ul>
        </div>
    </nav>
</header>

<div id="chart_div" style="width: 100%; height: 500px;"></div>
<p style="text-align: center;">Data for the year 2024</p>

</body>
</html>

